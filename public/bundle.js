!function(t){var e={};function n(a){if(e[a])return e[a].exports;var r=e[a]={i:a,l:!1,exports:{}};return t[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(a,r,function(e){return t[e]}.bind(null,r));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var r=function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,"draw",(function(t){e.clearCanvas(),e.viewElements(),t.forEach((function(t){var n=t[t.length-1],a=t[0];t.forEach((function(t){e.drawLine(t)})),e.drawPhasorRound(n),e.schales({shift:a.t,f:1})}))})),a(this,"drawLine",(function(t){var n=t.x,a=t.y,r=t.prevX,i=t.prevY,o=t.r,s=(t.phasorX,t.color);e._ctx.beginPath(),e._ctx.strokeStyle=s,e._ctx.moveTo(r,i),e._ctx.lineTo(n,a),e._ctx.stroke(),e._ctx.lineWidth=o,e._ctx.closePath()})),a(this,"drawPhasorRound",(function(t){var n=t.phasorX,a=t.x,r=t.prevY,i=t.y,o=t.maxAmplitude,s=(t.r,t.color),c=e._xAxisStartPosition/2,p=e._h/2,l=o,u=e._xAxisStartPosition/2,h=e._h/2,f=n+e._xAxisStartPosition/2,d=i;e._ctx.beginPath(),e._ctx.arc(c,p,l,0,2*Math.PI),e._ctx.strokeStyle=s,e._ctx.moveTo(u,h),e._ctx.lineTo(f,d),e._ctx.stroke(),e._ctx.moveTo(f,r),e._ctx.lineWidth=.3,e._ctx.lineTo(a,i),e._ctx.strokeStyle=s,e._ctx.stroke(),e._ctx.closePath()})),a(this,"viewElements",(function(){e.axis(),e.grid()})),a(this,"schales",(function(t){e._ctx.lineWidth=1,e.xScale(t),e.yScale(t)})),a(this,"xScale",(function(t){for(var n=t.shift,a=e._w-e._xAxisStartPosition,r=64/t.f,i=e._h/2,o=a/r,s=n/r|0,c=-n%r,p=1;p<=o;p++){var l=a*p/o+c+e._xAxisStartPosition;p%1||e._ctx.fillText((p+s)/5,l-7,i+20),e._ctx.strokeRect(l,i-5,0,10)}})),a(this,"yScale",(function(){for(var t=1;t<=20;t++)e._ctx.fillText(-Math.round(10*(t/5-2))/10,e._xAxisStartPosition+10,e._h*t/20),e._ctx.strokeRect(e._xAxisStartPosition-5,e._h*t/20,10,0)})),a(this,"grid",(function(){var t=e._h/36,n=e._w/64;e._ctx.strokeStyle="lightgrey",e._ctx.lineWidth=1;for(var a=0;a<t;a++)36*a!=e._h/2&&e._ctx.strokeRect(0,36*a,e._w,.1);for(var r=0;r<n;r++)64*r!==e._xAxisStartPosition&&e._ctx.strokeRect(64*r,0,.1,e._w)})),a(this,"axis",(function(){e._ctx.beginPath(),e._ctx.lineWidth=1,e._ctx.moveTo(0,e._h/2),e._ctx.lineTo(e._w,e._h/2),e._ctx.strokeStyle="blue",e._ctx.moveTo(e._xAxisStartPosition,0),e._ctx.lineTo(e._xAxisStartPosition,e._h),e._ctx.stroke()})),a(this,"clearCanvas",(function(){e._ctx.clearRect(0,0,e._w,e._h)})),this._h="720",this._w="1280",this._canvas=document.createElement("canvas"),this._canvas.setAttribute("width",this._w),this._canvas.setAttribute("height",this._h),this._ctx=this._canvas.getContext("2d"),this._xAxisStartPosition=448},i=(n(0),function(){return document.createElement("input")}),o=function(t,e){var n=document.createElement("div");return e&&(n.className=e),n.innerText=t,n},s=(n(1),function(){var t=document.createElement("button");return t.className="wave-set__button",t.innerText="SET",t}),c=function(t,e){var n=document.createElement("div");return n.className=t,e&&(n.id=e),n};var p=function t(){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.bottomWrapper=document.createElement("div"),this.bottomWrapper.className="wrapper__bottom",this.ampLabel=o("Amplitute (Imax)","amp-field__label"),this.ampButton=s(),this.ampInput=i();var n=c("fields__amp-field");n.append.apply(n,[this.ampLabel,this.ampInput,this.ampButton]),this.freqLabel=o("Frequency per second","freq-field__label"),this.freqButton=s(),this.freqInput=i();var a,r=c("fields__freq-field");r.append.apply(r,[this.freqLabel,this.freqInput,this.freqButton]),this.newWaveBtn=((a=document.createElement("button")).className="wave-new-wave__button",a.innerText="New wave",a),this.stopButton=function(){var t=document.createElement("button");return t.className="wave-stop__button",t.style.padding="10px",t.innerText="Stop",t}(),this.stopWrapper=c("bottom__stop-wrapper"),this.stopWrapper.append(this.stopButton);var p=c("bottom__fields");p.append.apply(p,[n,r,this.newWaveBtn]),(e=this.bottomWrapper).append.apply(e,[p,this.stopWrapper])};n(2);function l(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var f=function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),h(this,"setWaveInputs",(function(t){var n=c("amp-field__readOnly","amp".concat(t)),a=o("Instant amplitude(i):","amp-field__label"),r=o("".concat(t+1," wave:"),"wave-num__label"),i=c("freq-field__readOnly","phase".concat(t)),s=o("Phase:","freq-field__label"),p=c("wrapper__amp-field"),l=c("wrapper__freq-field");p.append.apply(p,[n,a]),l.append.apply(l,[i,s]);var u=c("header__wave-wrapper");u.append.apply(u,[r,p,l]),e.waves.push(u),e.appendWaves()})),h(this,"appendWaves",(function(){var t;(t=e.headerWrapper).append.apply(t,l(e.waves))})),this.headerWrapper=c("wrapper__header"),this.waves=[]};function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v=new function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,"onAmpClick",(function(t){e.bottom.ampButton.onclick=function(){var n=e.bottom.ampInput.value;t(n)}})),d(this,"onFreqClick",(function(t){e.bottom.freqButton.onclick=function(){var n=e.bottom.freqInput.value;t(n)}})),d(this,"onStopClick",(function(t){var n=!1;e.bottom.stopButton.onclick=function(){n=!n,e.bottom.stopButton.innerText=n?"Resume":"Stop",e.bottom.stopButton.style.backgroundColor=n?"#00cc00":"red",t(n)}})),d(this,"onNewWaveClick",(function(t){e.bottom.newWaveBtn.onclick=function(){t()}})),d(this,"displayParams",(function(t){var e=t.amp,n=(t.f,t.phase),a=(t.angleSpeed,t.id),r=document.getElementById("amp".concat(a)),i=document.getElementById("phase".concat(a));r.innerText=e,i.innerText=n})),d(this,"displayWaveFields",(function(t){e.header.setWaveInputs(t)})),this.waveCanvas=new r,this._canvas=this.waveCanvas._canvas,this._canvas.style.border="3px solid black",this._root=document.getElementById("root");var n=document.createElement("div");n.className="canvas-wrapper";var a=document.createElement("div");a.className="wrapper",this.bottom=new p,this.header=new f,n.append(this._canvas),a.append.apply(a,[this.header.headerWrapper,n,this.bottom.bottomWrapper]),this._root.append(a)};function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _=new function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),m(this,"getAllWaves",(function(){return e._waves})),m(this,"getWaveById",(function(t){return e._waves[t]})),m(this,"addWave",(function(t){return e._waves.push([t])})),m(this,"addWaveById",(function(t,n){return e._waves[t].push(n)})),m(this,"clearAllWaves",(function(){return e._waves=[]})),this._waves=[]};function x(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?x(Object(n),!0).forEach((function(e){w(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function w(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}new function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),w(this,"displayParams",(function(t){var n=t.phase,a=t.angleSpeed,r=t.t,i=t.y,o=t.id,s=(t.f,t.maxAmplitude),c=t.waveForm,p=-Math.round((i-e._h/2)/180*1e3)/1e3,l=(180*(a*r+n*Math.PI/180)/Math.PI|0)%360;"meander"===c&&(l=Math.asin((i-e._h/2)/s)*(180/Math.PI)+180);var u={id:o,amp:p,phase:l};v.displayParams(u)})),w(this,"setAmplitude",(function(t,n){_.getWaveById(0).forEach((function(n){n.maxAmplitude=+t*e._h/4}))})),w(this,"setFreq",(function(t,e){_.getWaveById(0).forEach((function(e){e.f=+t}))})),w(this,"setWave",(function(){var t=1*e._h/4;_.addWave({maxAmplitude:.5*e._h/4,f:2,r:1.2,t:0,id:0,xt:0,xIsStop:!1,xSpeed:1,phase:0,color:"blue",waveForm:"sine"}),v.displayWaveFields(0),_.addWave({maxAmplitude:t,f:2,r:1.2,t:0,id:1,xIsStop:!1,xSpeed:1,color:"green",phase:0,waveForm:"meander"}),v.displayWaveFields(1)})),w(this,"animate",(function(){if(!e.isStop){var t=_.getAllWaves();t.forEach((function(t){var n=b({},t[t.length-1]);t.forEach((function(t){t.xIsStop&&(t.x-=1,t.prevX-=1),n.x>e._w&&(t.xIsStop=!0)})),t.length>832&&t.shift();var a=b({},t[t.length-1]);e.waveMove(a)})),v.waveCanvas.draw(t)}})),w(this,"waveMove",(function(t){var n=t.x,a=t.y,r=t.phasorX;t.prevX=n,t.prevY=a,t.prevPhasorX=r,t.angleSpeed=t.angleSpeed&&!t.f?t.angleSpeed:2*Math.PI*(t.f/(e._w/2)),e.changeByWaveForm(t),t.x=t.xt+448,t&&e.displayParams(t),t.xIsStop||(t.xt=t.t),t.t+=1,_.addWaveById(t.id,t)})),w(this,"changeByWaveForm",(function(t){switch(t.waveForm){case"sine":t.y=e._h/2-t.maxAmplitude*Math.sin(t.angleSpeed*t.t+t.phase*Math.PI/180),t.phasorX=t.maxAmplitude*Math.cos(t.angleSpeed*t.t+t.phase*Math.PI/180);break;case"cosine":t.y=e._h/2-t.maxAmplitude*Math.cos(t.angleSpeed*t.t+t.phase*Math.PI/180),t.phasorX=t.maxAmplitude*Math.sin(t.angleSpeed*t.t+t.phase*Math.PI/180);break;case"meander":t.y=e._h/2-t.maxAmplitude*Math.sign(Math.sin(t.angleSpeed*t.t+t.phase*Math.PI/180)),t.phasorX=0;break;default:t.y=e._h/2-t.maxAmplitude*Math.sin(t.angleSpeed*t.t+t.phase*Math.PI/180),t.phasorX=t.maxAmplitude*Math.cos(t.angleSpeed*t.t+t.phase*Math.PI/180)}})),w(this,"distance",(function(t,e,n,a){return Math.sqrt(Math.pow(t-n,2)+Math.pow(e-a,2))})),this._w="1280",this._h="720",this.isStop=!1,setInterval((function(){e.animate()}),0),this.setWave(),v.onAmpClick(this.setAmplitude),v.onFreqClick(this.setFreq),v.onStopClick((function(){return e.isStop=!e.isStop}))}}]);